{
  "java": "class MyCalendar {\n\n    TreeMap<Integer, Integer> map;\n    public MyCalendar() {\n      map = new TreeMap<>();\n    }\n\n    public boolean book(int start, int end) {\n        Integer floor = map.floorKey(end - 1);\n        if (floor != null && (floor >= start || map.get(floor) > start))\n            return false;\n        map.put(start, end);\n        return true;\n    }\n}\n\n/* faster solution, using binary tree\nclass MyCalendar2 {\n\n    class Node {//\u8282\u70b9\u6709\u8d77\u59cb\u7ed3\u675f\u65f6\u95f4\u548c\u5de6\u53f3\u5b50\u8282\u70b9\n        public Node(int start, int end) {\n            l = start;\n            r = end;\n        }\n\n        int l, r;\n        Node left, right;\n    }\n\n    Node root = null;\n\n    public boolean book(int start, int end) {\n        if (root == null) {\n            root = new Node(start, end);\n        } else {\n            Node cur = root;\n            Node pre = null;//\u7236\u8282\u70b9\n            boolean leftTag = false;//\u8bb0\u5f55\u8be5\u63d2\u5165\u7684\u8282\u70b9\u662f\u5de6\u5b50\u8fd8\u662f\u53f3\u5b50\n            while (cur != null) {\n                pre = cur;\n                if (end <= cur.l) {//\u5e94\u8be5\u5728\u5f53\u524d\u8282\u70b9\u7684\u5de6\u4fa7\uff0c\u5f80\u5de6\u5b50\u9012\u5f52\n                    leftTag = true;\n                    cur = cur.left;\n                } else if (start >= cur.r) {//\u5e94\u8be5\u5728\u5f53\u524d\u8282\u70b9\u7684\u53f3\u4fa7\uff0c\u5f80\u53f3\u5b50\u9012\u5f52\n                    leftTag = false;\n                    cur = cur.right;\n                } else {// \u6709\u91cd\u53e0\uff0c\u4e0d\u5e94\u8be5\u63d2\u5165\uff0c\u8fd4\u56defalse\n                    return false;\n                }\n            }\n            if (leftTag) {//\u6839\u636etag\u786e\u5b9a\u662f\u7236\u4eb2\u7684\u5de6\u5b50\u8fd8\u662f\u53f3\u5b50\n                pre.left = new Node(start, end);\n            } else {\n                pre.right = new Node(start, end);\n            }\n        }\n        return true;\n    }\n}\n*/\n\n/**\n * Your MyCalendar object will be instantiated and called as such:\n * MyCalendar obj = new MyCalendar();\n * boolean param_1 = obj.book(start,end);\n */\n"
}